<HTML><HEAD><TITLE>网络7层管理和过滤的领导者</TITLE>
<META content="text/html; charset=utf-8" http-equiv=Content-Type>
<LINK rel=stylesheet type=text/css href="/ext/resources/css/ext-all.css">
<LINK rel=stylesheet type=text/css href="/ext/resources/css/xtheme-default.css">
<SCRIPT type=text/javascript src="/ext/adapter/ext/ext-base.js"></SCRIPT>
<SCRIPT type=text/javascript  src="/ext/ext-all.js"></SCRIPT>
<SCRIPT type=text/javascript  src="/msa/publicjs/pubstyle.js"></SCRIPT>
<link rel="stylesheet" type="text/css" href="/msa/publiccss/pubcss.css">
<link rel="stylesheet" href="/msa/publiccss/css.css" type="text/css">
<link href="/Content/IconCls.css" rel="stylesheet" type="text/css" />

<STYLE type=text/css>HTML {
	BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; FONT: 12px verdana; HEIGHT: 100%; OVERFLOW: hidden; BORDER-TOP: 0px; BORDER-RIGHT: 0px; PADDING-TOP: 0px
}
BODY {
	BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; FONT: 12px verdana; HEIGHT: 100%; OVERFLOW: hidden; BORDER-TOP: 0px; BORDER-RIGHT: 0px; PADDING-TOP: 0px
}
P {
	MARGIN: 5px
}
</STYLE>
<SCRIPT type=text/javascript>
	var myaction;
	function checkbox(obj)
		{	
					if(obj.checked){
				    obj.value=1;
				  }else{
				    obj.value=0;
					}
		}
		function delurl() {
				Ext.Ajax.request({
          method : 'POST',
          url:'/msa/main.xp',
          success: function(response, options){
		      	parent.urlfrm.location.href='/msa/main.xp?Fun=msaEditWebpost&ruleid=[$ruleid$]';
          },
          failure : function(){
          	Ext.MessageBox.alert("提示","删除失败!");
          },          
          params:{Fun:'msaEditWebpost',ruleid:listform.ruleid.value,caurl:event.srcElement.name,delflag:'delflag'}
				});
		}
		function addurl() {
					if(listform.url.value=="" ){
						Ext.MessageBox.alert("提示","URL不能为空!");
						listform.url.focus();
						return;
					}
					Ext.Ajax.request({
	          method : 'POST',
	          url:'/msa/main.xp',
	          success: function(response, options){
			      	parent.urlfrm.location.href='/msa/main.xp?Fun=msaEditWebpost&ruleid=[$ruleid$]';
	          },
	          failure : function(){
	          	Ext.MessageBox.alert("提示","添加失败!");
	          },
	           params:{Fun:'msaEditWebpost',ruleid:listform.ruleid.value,caurl:listform.url.value,addflag:'addflag',action:listform.action.value,typeflag:listform.typeflag.value,utf8:listform.utf8.value}
					});
		}
	</SCRIPT>
</head>
<body  oncontextmenu="return false" bgcolor="#FFFFFF" topmargin=0 leftmargin=0 style="SCROLLBAR-FACE-COLOR: #f0f0f0;  overflow-x:hidden;  OVERFLOW: scroll; SCROLLBAR-SHADOW-COLOR: #f0f0f0; SCROLLBAR-3DLIGHT-COLOR: #f0f0f0; SCROLLBAR-ARROW-COLOR: #f0f0f0; SCROLLBAR-DARKSHADOW-COLOR: #cccccc;" >
<div id="mainviewdiv" valign="top" align="left" STYLE="position:absolute; top=5; left=5; z-index:1;">
<table width="100%" border="1" cellspacing="0" cellpadding="1" align="center" bordercolor="#B0BDD3" style="BORDER-COLLAPSE: collapse">
  <form name="listform" method="POST">
  <input type="hidden" name="ruleid" value="[$ruleid$]">
	<tr>
		<td width="30%" height="23" colspan="2"><span class="STYLE4">域名URL中包含以下关键字，格式为host关键字/url关键字</span></td>
		<td width="10%">操作</td>
	</tr>
		[$begintable list$]
    <tr>
      <td width="30%">
      	[$caurl$]
      </td>
      <td width="20%">
      	[$type$]
      </td>
      <td width="8%">
          <input type='button' class=input size="32" onClick="delurl();" maxlength="20" name="[$caurl$]" value="删除" style="cursor: hand">
        </td>
    </tr>
    [$endtable$]
	<tr>
		<td width="50%" colspan="2">
          <input type='text' name="url" class=input size="32" maxlength="20" onClick="" value="">&nbsp&nbsp&nbsp&nbsp
          <select name="action" class="inputself0" id="action">
				<option value="0">拒绝该连接</option>
				<option value="15">临时阻断该用户15秒</option>
				<option value="30">临时阻断该用户30秒</option>
				<option value="1" selected>允许</option>
			</select>
          <select name="typeflag" class="inputself0" id="typeflag">
			<option value="0">Get方式</option>
			<option value="1">Post方式 </option>
			<option value="2" selected>全部</option>
		</select>
          <input type="checkbox" name="utf8" value="0" onClick="checkbox(this)">
UTF-8&nbsp		</td>
		<td width="8%">
          <input type='button' class=input onClick="addurl();" size="20" maxlength="20" value="添加" style="cursor: hand">
    </td>
	</tr>
	</form>
</table>
</div>
</body>
</html>
