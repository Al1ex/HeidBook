<html>
<head>
<title>系统报警</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META HTTP-EQUIV="Expires" CONTENT="0">
<META HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
<META content=no-cache http-equiv=Pragma>
<link rel="stylesheet" href="/msa/publiccss/pubcss.css" type="text/css">

<style type="text/css">
<!--
.cccv {  border-style: inset; border-top-width: 2px; border-right-width: 2px; border-bottom-width: 2px; border-left-width: 2px}
.xan3 {  width: 100px; font-size: 12px; font-weight: normal; font-family: "宋体"}
-->
</style>
<script language="JavaScript">
function gotoFun(){
	if((isNaN(syssetok.diskalert.value))||syssetok.diskalert.value>=100||syssetok.diskalert.value<0){
		alert("硬盘超过占用百分比数值格式不正确");
		return false;
	}
	if((isNaN(syssetok.memalert.value))||syssetok.memalert.value>=100||syssetok.memalert.value<0){
		alert("内存超过占用百分比数值格式不正确");
		return false;
	}
	if((isNaN(syssetok.outflowalert.value))||syssetok.outflowalert.value<0){
		alert("总速率数值格式不正确");
		return false;
	}
	if((isNaN(syssetok.p2pflowalert.value))||syssetok.p2pflowalert.value>=100||syssetok.p2pflowalert.value<0){
		alert("p2p下载占比数值格式不正确");
		return false;
	}
	
	if(syssetok.mailalert.checked){
		syssetok.mailalert.value="yes";
	}
	if(syssetok.smsalert.checked){
		syssetok.smsalert.value="yes";
	}
	
  syssetok.submit();
}
function setfun(){
	if(syssetok.mailalert.checked==false){
		syssetok.mail.disabled=true;
		syssetok.mail.value="";
	}else{
		syssetok.mail.disabled=false;
	}
	if(syssetok.smsalert.checked==false){
		syssetok.telphone.disabled=true;
		syssetok.telphone.value="";
	}else{
		syssetok.telphone.disabled=false;
	}
}
</script>
</head>

<body oncontextmenu="return false"  bgcolor="f0f0f0" >
<form name="syssetok" method="post" action="/msa/main.xp" >
<input type="hidden" name="Fun" value="msaalertset">
<table width="90%" border="0" cellspacing="0" cellpadding="0">
    <tr> 
      <td height="27" background="/msa/images/nn2.gif" width="180"> 
        <div align="center"><font color="#FFFFFF"> </font><font color="#000000">
        <font color="#FFFFFF">系统报警设置选项如下：</font></font></div>
      </td>
      <td height="27" background="/msa/images/nn1.gif">&nbsp; </td>
    </tr>
		<tr> 
	  	<td height="27" colspan="2">&nbsp; </td>
	    <td width="399" height="27">&nbsp;</td>      
	  </tr>
  </table>
<fieldset style="width:786" height:30;border:2px groove" align=center>
<legend>报警方式 </legend> 				       
<table width="90%" border="0" cellspacing="0" align="center" height="26%"> 
  <tr> 
  	<td width="145" height="27" align="right">邮件:</td>
    <td width="557" align="left"><input type="checkbox" name="mailalert" value="yes" [$mailalert$] onClick="setfun()">
      <input type="text" name="mail" value="[$mail$]" size="18"></td>
	</tr>
	<tr>
    <td width="145" height="27" align="right">短信:</td>
    <td width="557" align="left"><input type="checkbox" name="smsalert" value="yes" [$smsalert$] onClick="setfun()">
      <input type="text" name="telphone" value="[$telphone$]" size="18"></td>      
  </tr>
</table>
</fieldset>
<fieldset style="width:786" height:30;border:2px groove" align=center>
<legend>系统异常报警 </legend> 
<table width="90%" border="0" cellspacing="0" align="center" height="26%"> 
 
  <tr> 
    <td width="21%" height="27" align="right">硬盘超过占用(%):</td>
    <td width="79%" align="left"><input type="text" name="diskalert" value="[$diskalert$]" size="8" maxlength="6"></td> 
  </tr>
 
  <tr>
    <td height="27" align="right">内存超过占用(%):</td>
    <td align="left"><input type="text" name="memalert" value="[$memalert$]" size="8" maxlength="6"></td>      
  </tr>
</table>
</fieldset>
<fieldset style="width:786" height:30;border:2px groove" align=center>
<legend>关键操作报警 </legend>
<table width="90%" border="0" cellspacing="0" align="center" height="26%"> 
  <tr> 
  	<td width="145" align="right">添加新管理员:</td>
    <td width="28"  align="left"><input type="checkbox" name="newadminalert" value="yes" [$newadminalert$]></td>
    <td width="86"  align="right">添加新规则:</td>
    <td width="21" align="left"><input type="checkbox" name="newrulealert" value="yes" [$newrulealert$]></td>      
    <td width="86" height="27" align="right">删除规则:</td>
    <td width="328" align="left"><input type="checkbox" name="delrulealert" value="yes" [$delrulealert$]></td> 
  </tr>
</table>
</fieldset>
<fieldset style="width:786" height:30;border:2px groove" align=center>
<legend>网络异常报警 </legend>
<table width="90%" border="0" cellspacing="0" align="center" height="26%"> 
  <tr>
    <td width="21%" height="27" align="right">总速率超过(kbps):</td>
    <td width="79%" align="left"><input type="text" name="outflowalert" value="[$outflowalert$]" size="8"></td>      
  </tr>
 
  <tr>
    <td height="27" align="right">p2p下载占比超过(%):</td>
    <td align="left"><input type="text" name="p2pflowalert" value="[$p2pflowalert$]" size="8" maxlength="6"></td>      
  </tr>
</table>
</fieldset>
  <tr> 
    <td height="31" colspan="2"> 
      <div align="left">
        <input type="button" class=input  name="ok" value="确认" onClick="gotoFun();">
      </div>
    </td>
  </tr>
</form>
</body>
</html>

