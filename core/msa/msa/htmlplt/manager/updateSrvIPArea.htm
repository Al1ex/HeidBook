<HTML><HEAD><TITLE>网络7层管理和过滤的领导者</TITLE>
<META content="text/html; charset=utf-8" http-equiv=Content-Type>
<LINK rel=stylesheet type=text/css href="/msa/publiccss/pubcss.css">
<LINK rel=stylesheet type=text/css href="/msa/extjs/resources/css/ext-all.css">
<link rel="stylesheet" type="text/css" href="/msa/extjs/resources/css/feed-viewer.css" />
<LINK rel=stylesheet type=text/css href="/msa/extjs/resources/css/xtheme-default.css" id="xthemecss" >
<script type="text/javascript" src="/msa/extjs/adapter/ext/ext-base.js"></script>
<SCRIPT type=text/javascript  src="/msa/extjs/ext-all.js"></SCRIPT>
<script type=text/javascript  src="/msa/publicjs/select_time_st_1.js"></script>
<script type="text/javascript">
 function savelistfun() {
	var mysrvid=north.srvid.value;
	var mysrvip=north.srvip.value;
	var mysrvarea=north.srvarea.value;	
	alert(mysrvid);
	/*if(mysrvip!="")
	{
	  var regIP=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/;
	  var IP_flag=false;
	  if(regIP.test(mysrvip)){
		IP_flag = true;
		}else{
		IP_flag = false;
		}
		if (!IP_flag){
		  alert("对不起，IP地址格式错误！");
			north.srvip.focus();
			north.srvip.select();
		  return false;
		}
	}
	
	if(mysrvarea!="")
	{
	  var regAREA=/^[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+.?$/;
	  var AREA_flag=false;
	  if(regAREA.test(mysrvarea)){
		AREA_flag = true;
		}else{
		AREA_flag = false;
		}
		if (!AREA_flag){
		  alert("对不起，域名格式错误！");
			north.srvarea.focus();
			north.srvarea.select();
		  return false;
		}
	}*/
	
	Ext.Ajax.request({
		method : 'POST', 
    url:'/msa/main.xp', 
    success: function() 
	  {
	     parent.parent.mainviewfrm.location.href="main.xp?Fun=lturlsort"; 
    },
    failure : function() 
    {   
	  	alert("编辑服务器IP和域名失败!"); 
    },
    params:{Fun:'msaUpdateType',srvip:mysrvip,srvarea:mysrvarea,srvid:mysrvid,flag:1}
  });
 }
</SCRIPT>
<SCRIPT type=text/javascript>
Ext.BLANK_IMAGE_URL = '/msa/extjs/resources/images/default/s.gif';
Ext.onReady(function(){
	Ext.QuickTips.init();
	new Ext.Panel({
		renderTo:Ext.getBody(),
		layout:'fit',
		height:screen.height-450,
		contentEl:'mainviewdiv'
		});
});
</SCRIPT>
</head>
<body bgcolor="#ffffff" text="#000000"  leftmargin="1" topmargin="0"   style="SCROLLBAR-FACE-COLOR: #f0f0f0;  overflow-x:hidden;  OVERFLOW: scroll; SCROLLBAR-SHADOW-COLOR: #f0f0f0; SCROLLBAR-3DLIGHT-COLOR: #f0f0f0; SCROLLBAR-ARROW-COLOR: #f0f0f0; SCROLLBAR-DARKSHADOW-COLOR: #cccccc;" >
	<div id="mainviewdiv" valign="top" align="center" STYLE="position:absolute; top=30; left=30; z-index:1;">
    <form name="north">
    	<input type="hidden"  name="srvid" value="[$rid$]">
	<table width="974" align="center">
		<tr>
		<td >服务IP</td>
	  </tr>
		<tr>
		<td ><textarea name="srvip" class=input cols="60" rows="8" style="overflow-x:hidden;overflow-y:hidden;">[$srvip$]</textarea></td>
	  </tr>
		<tr>
		<td >服务域名</td>
	  </tr>
		<tr>
		<td ><textarea name="srvarea" class=input cols="60" rows="8" style="overflow-x:hidden;overflow-y:hidden;">[$srvarea$]</textarea></td>
	  </tr>
		<tr><td colspan="3"><hr/></td></tr>
		<tr><td colspan="3">
			<input type="button" onClick="savelistfun();"  value="保存/修改"  class=inputf0 size=10>
			<input type="hidden" name="type" value="1" >
		</td>
		</tr>
	</table>
</form>
</div>
</body>
</html>
