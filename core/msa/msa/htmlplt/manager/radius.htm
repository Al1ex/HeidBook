<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<META 	content="text/html; charset=utf-8" http-equiv=Content-Type>
<title>Radius</title>
<style type="text/css">
BODY {
	PADDING-BOTTOM: 0px;
	LINE-HEIGHT: 22px;
	MARGIN: 0px;
	PADDING-LEFT: 0px;
	PADDING-RIGHT: 0px;
	FONT-FAMILY: "宋体", Arial, Helvetica, sans-serif;
	COLOR: #000;
	FONT-SIZE: 12px;
	PADDING-TOP: 0px;
	background-color: #F0F0F0;
}
A {
	COLOR: #000; TEXT-DECORATION: none
}
A:hover {
	COLOR: #000; TEXT-DECORATION: none
}
.table {
	PADDING-TOP: 130px
}
.name {
	FONT-FAMILY: "微软雅黑", "宋体"; FONT-SIZE: 22px; FONT-WEIGHT: bold
}
.word {
	COLOR: #007130
}
.input {
	BORDER-BOTTOM: #a4a4ac 1px solid; BORDER-LEFT: #a4a4ac 1px solid; PADDING-BOTTOM: 1px; LINE-HEIGHT: 16px; PADDING-LEFT: 1px; WIDTH: 110px; PADDING-RIGHT: 1px; BACKGROUND: #ffffff 0px 0px; HEIGHT: 16px; COLOR: #000000; FONT-SIZE: 12px; BORDER-TOP: #a4a4ac 1px solid; BORDER-RIGHT: #a4a4ac 1px solid; PADDING-TOP: 1px
}
.contact {
	BACKGROUND: url(images/contact_bg.gif) no-repeat 50% bottom
}
.contact P {
	MARGIN: 18px 0px 0px 70px; COLOR: #949494
}
.login {
	BACKGROUND: url(images/login_bg.gif) no-repeat 50% bottom; HEIGHT: 335px
}
.input2 {
	BORDER-BOTTOM: #a4a4ac 1px solid; BORDER-LEFT: #a4a4ac 1px solid; PADDING-BOTTOM: 1px; LINE-HEIGHT: 16px; PADDING-LEFT: 1px; WIDTH: 50px; PADDING-RIGHT: 1px; BACKGROUND: #ffffff 0px 0px; HEIGHT: 16px; COLOR: #000000; FONT-SIZE: 12px; BORDER-TOP: #a4a4ac 1px solid; BORDER-RIGHT: #a4a4ac 1px solid; PADDING-TOP: 1px
}
.login_t {
	WIDTH: 260px; MARGIN-LEFT: 38px
}
.k1 {
	LINE-HEIGHT: 30px; WIDTH: 56px
}
.k2 {
	LINE-HEIGHT: 30px; WIDTH: 125px
}
.k3 {
	LINE-HEIGHT: 30px; WIDTH: 65px
}
.ktop {
	HEIGHT: 32px; COLOR: #999; VERTICAL-ALIGN: top
}
.k4 {
	WIDTH: 58px
}
.btn {
	BORDER-BOTTOM: 0px; TEXT-ALIGN: center; BORDER-LEFT: 0px; WIDTH: 72px; DISPLAY: block; FONT-FAMILY: "微软雅黑", "宋体", Arial, Helvetica, sans-serif; BACKGROUND: url(images/button_login.gif) no-repeat; FLOAT: left; HEIGHT: 26px; COLOR: #000; FONT-SIZE: 14px; BORDER-TOP: 0px; CURSOR: pointer; FONT-WEIGHT: bold; BORDER-RIGHT: 0px; TEXT-DECORATION: none
}
</style>
<LINK rel=stylesheet type=text/css href="/msa/extjs/resources/css/ext-all.css">
<link rel="stylesheet" type="text/css" href="/msa/extjs/resources/css/feed-viewer.css" />
<LINK rel=stylesheet type=text/css href="/msa/extjs/resources/css/xtheme-default.css" id="xthemecss" >
<script type="text/javascript" src="/msa/extjs/adapter/ext/ext-base.js"></script>
<SCRIPT type=text/javascript  src="/msa/extjs/ext-all.js"></SCRIPT>
<SCRIPT type=text/javascript>
		function update() {
					if(listform.ip.value=="" ){
					Ext.MessageBox.alert("提示","IP不能为空!");
					listform.ip.focus();
					return false;
					}
					if(!(listform.ip.value=="")){
						var mybip=listform.ip.value;
					  var regIP=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/;
					  var IP_flag=false;
					  if(regIP.test(mybip)){
						IP_flag = true;
						}else{
						IP_flag = false;
						}
						if (!IP_flag){
						  Ext.MessageBox.alert("提示","ip地址格式错误!");
							listform.ip.focus();
							listform.ip.select();
						  return;
						}
					}
					Ext.Ajax.request({
	          method : 'POST',
	          url:'/msa/main.xp',
	          success: function(response, options){
			      	Ext.MessageBox.alert("提示","更新成功!");
	          },
	          failure : function(){
	          	Ext.MessageBox.alert("提示","添加失败!");
	          },
	          params:{Fun:'msaUDRadius',ip:listform.ip.value,password:listform.password.value}
					});
		}
	</SCRIPT>
</head>
 
<body  oncontextmenu="return false">
  <form action="/msa/main.xp" name="listform" id="listform" method="post">
  <table width="342" border="0" align="center" cellpadding="0" cellspacing="0" class="table">
  <tr>
    <td width="342" height="330" valign="middle" class="login">
	<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td colspan="3" valign="top">
     <table class="login_t" border="0" cellspacing="0" cellpadding="0">
           <tbody>
              <tr>
                 <td colspan="3" class="ktop">请输入radius服务器的IP与密码，点击更新</td>
                </tr>
              <tr>
                 <td class="k1">Radius IP</td>
                 <td class="k2"><input id="ip" class="input" type="text" name="ip" tabindex="1" value="[$ip$]"/></td>
                 <td class="k3"></td>
              </tr>
              <tr>
                 <td class="k1">密　　码</td>
                 <td class="k2"><input id="password" class="input" type="password" name="password" tabindex="2" value="[$password$]"/></td>
                 <td class="k3"></td>
              </tr>
           </tbody>
         </table>
    </td>
  </tr>
  <tr>
    <td width="131" height="61">&nbsp;</td>
    <td width="78" align="center" valign="middle"><input type="input" class="btn" value="更新" tabindex="4" onclick="update();" ></td>
    <td width="129">&nbsp;</td>
  </tr>
</table>
</td>
  </tr>
</table>
</form>
</body>
</html>

